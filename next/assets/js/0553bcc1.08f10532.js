"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[14593],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>u});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),u=o,d=m["".concat(s,".").concat(u)]||m[u]||h[u]||r;return n?i.createElement(d,a(a({ref:t},c),{},{components:n})):i.createElement(d,a({ref:t},c))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var p=2;p<r;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},67353:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var i=n(87462),o=(n(67294),n(3905));const r={title:"Use Shimmer Python library together with IOTA Library",description:"How to use the Python Shimmer Library together with the IOTA library",keywords:["Python","IOTA","Shimmer"]},a=void 0,l={unversionedId:"how_tos/use-python-with-iota",id:"how_tos/use-python-with-iota",title:"Use Shimmer Python library together with IOTA Library",description:"How to use the Python Shimmer Library together with the IOTA library",source:"@site/next/external/iota.rs/documentation/docs/how_tos/16_use-python-with-iota.mdx",sourceDirName:"how_tos",slug:"/how_tos/use-python-with-iota",permalink:"/next/iota.rs/how_tos/use-python-with-iota",draft:!1,editUrl:"https://github.com/iotaledger/iota.rs/edit/develop/documentation/next/external/iota.rs/documentation/docs/how_tos/16_use-python-with-iota.mdx",tags:[],version:"current",sidebarPosition:16,frontMatter:{title:"Use Shimmer Python library together with IOTA Library",description:"How to use the Python Shimmer Library together with the IOTA library",keywords:["Python","IOTA","Shimmer"]},sidebar:"docs",previous:{title:"More examples",permalink:"/next/iota.rs/how_tos/more_examples"},next:{title:"API Reference",permalink:"/next/iota.rs/libraries/rust/api_reference"}},s={},p=[{value:"Install Shimmer Version",id:"install-shimmer-version",level:3},{value:"Install IOTA Version",id:"install-iota-version",level:3},{value:"Usage",id:"usage",level:3}],c={toc:p};function h(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"As Python doesn't support using multiple versions of the same library, if you want to use both the Shimmer and IOTA version, you need to build one of them yourself and rename it.")),(0,o.kt)("p",null,"In this guide we will show you an Example on how you can install both the IOTA and Shimmer Python client for usage in the same application.\nFor that we will build the IOTA client library ourselfes and rename it."),(0,o.kt)("h3",{id:"install-shimmer-version"},"Install Shimmer Version"),(0,o.kt)("p",null,"First install the Shimmer version following the ",(0,o.kt)("a",{parentName:"p",href:"/next/iota.rs/getting_started/python#install-package-from-pypi"},"installation guide"),"."),(0,o.kt)("h3",{id:"install-iota-version"},"Install IOTA Version"),(0,o.kt)("p",null,"To install the IOTA version you need to follow the ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.iota.org/iota.rs/getting_started/python#install-from-source"},"Install from source")," guide.\nBefore you continue with the steps after having cloned the repo, we need to apply some changes to the repo first. "),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In this guide we will rename the ",(0,o.kt)("inlineCode",{parentName:"p"},"iota-client")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"iota-client-production"),", but you can use whatever you want.")),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"bindings/python/native/Cargo.toml")," change both names:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},'[package]\n- name = "iota-client-python"\n+ name = "iota-client-production"\n  version = "0.2.0-alpha.3"\n  authors = ["IOTA Stiftung"]\n  edition = "2021"\n  description = "Python bindings for the IOTA client library"\n  documentation = "https://wiki.iota.org/iota.rs/welcome"\n  homepage = "https://www.iota.org/"\n  repository = "https://github.com/iotaledger/iota.rs"\n  license = "Apache-2.0"\n  keywords = ["iota", "tangle", "client", "python"]\n  categories = ["cryptography::cryptocurrencies"]\n\n[lib]\n- name = "iota_client"\n+ name = "iota_client_production"\n  crate-type = ["cdylib"]\n')),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"bindings/python/native/setup.py"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},'setup(\n-   name="iota_client",\n+   name="iota_client_production"\n    version="0.1.0",\n    classifiers=[\n        "License :: SPDX-License-Identifier ::  Apache-2.0",\n        "Development Status :: 0.1.0 - Alpha",\n        "Intended Audience :: Developers",\n        "Programming Language :: Python",\n        "Programming Language :: Rust",\n        "Operating System :: POSIX",\n        "Operating System :: MacOS :: MacOS X",\n    ],\n    packages=["iota_client"],\n    rust_extensions=[\n        RustExtension(\n            "iota_client.iota_client",\n            rustc_flags=get_py_version_cfgs(),\n            debug=False,\n        ),\n    ],\n    include_package_data=True,\n    zip_safe=False,\n)\n')),(0,o.kt)("p",null,"And in ",(0,o.kt)("inlineCode",{parentName:"p"},"bindings/python/native/src/lib.rs"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},"/// A Python module implemented in Rust.\n#[pymodule]\n- fn iota_client(_py: Python<'_>, m: &PyModule) -> PyResult<()> {\n+ fn iota_client_production(_py: Python<'_>, m: &PyModule) -> PyResult<()> {\n      m.add_class::<Client>()?;\n      Ok(())\n  }\n")),(0,o.kt)("p",null,"Now you can continue the installation from ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.iota.org/iota.rs/getting_started/python#change-to-the-python-binding-directory"},"here"),"."),(0,o.kt)("h3",{id:"usage"},"Usage"),(0,o.kt)("p",null,"With both libraries installed you can now use them for example like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"import json\n\nfrom iota_client import IotaClient as ShimmerClient # Imported as ShimmerClient to prevent confusion\nimport iota_client_production\n\n# Create an IotaClient instance\nshimmer_client = ShimmerClient({'nodes': ['https://api.testnet.shimmer.network']})\n\n# Get and print the node info\nprint(f'{json.dumps(shimmer_client.get_info(), indent=4)}')\n\n# create a client with a node\niota_client = iota_client_production.Client(\n    nodes_name_password=[['https://api.lb-0.h.chrysalis-devnet.iota.cafe']])\n\nprint(f'{json.dumps(iota_client.get_info(), indent=4)}')\n")))}h.isMDXComponent=!0}}]);